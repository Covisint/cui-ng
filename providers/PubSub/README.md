Extracted from [angular-pubSub](https://github.com/georapbox/angular-PubSub)