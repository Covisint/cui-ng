<div class="cui-tile">
      <div class="cui-tile__title">{{"cui-create-security-admin-account" | translate}}</div>
      <div class="cui-tile__body">

        <cui-wizard class="cui-wizard" step="{{app.step}}" clickable-indicators minimum-padding="30" mobile-stack>
          <indicator-container class="indicator-container"></indicator-container>
          <step title="{{'cui-org-info' | translate}}" state="wizard.organization">
            <form name="organization" novalidate autocomplete="off">
              <!-- organization name -->
              <label for="org-name">{{'cui-org-info' | translate}}</label>
              <input type="text" ng-model="app.organization.name" name="org-name" class="cui-input " disabled></input>

              <!-- email input test -->
              <label for="invite-emails">Emails to invite</label>
              <tags-input class="cui-tags-input" name="emails" ng-model="app.organization.emails" min-tags="1" add-on-space="true" allowed-tags-pattern="{{ app.emailRegex }}">
              </tags-input>
              <!-- company/division -->
              <label for="company-division">{{"cui-company-division" | translate}}</label>
              <div class="cui-error" ng-messages="organization.division.$error" ng-if="organization.division.$touched">
                <div ng-messages-include="assets/angular-templates/messages.html"></div>
              </div>
              <select ng-model="app.organization.division" name="division" class="cui-select " ng-required="true" ng-class="{'cui-input--error': organization.division.$touched && organization.division.$invalid}">
                <option value="" disabled selected></option>
                <option ng-repeat="division in app.organization.divisions" value="{{division}}">{{division}}</option>
              </select>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- address -->
                  <label for="address1">{{'cui-org-address' | translate}} 1</label>
                  <div class="cui-error" ng-messages="organization.address1.$error" ng-if="organization.address1.$touched">
                    <div ng-messages-include="assets/angular-templates/messages.html"></div>
                  </div>
                  <input type="text" ng-model="app.organization.address1" name="address1" class="cui-input " ng-required="true" ng-minlength="10" ng-class="{'cui-input--error': organization.address1.$touched && organization.address1.$invalid}" placeholder=""></input>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- address2 -->
                  <label for="address2">{{'cui-org-address' | translate}} 2</label>
                  <input type="text" ng-model="app.organization.address2" class="cui-input " ></input>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- country -->
                  <label for="country">{{"cui-country" | translate}}</label>
                  <div class="cui-error" ng-messages="organization.country.$error" ng-if="organization.country.$touched">
                    <div ng-messages-include="assets/angular-templates/messages.html"></div>
                  </div>
                  <div auto-complete input-name="country" pause="100" selected-object="app.organization.country" local-data="app.countries" search-fields="name" title-field="name" minlength="1" input-class="cui-input" match-class="highlight" auto-match="true" input-changed="app.organization.country"></div>
                </div>
  
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- state/province -->
                  <label for="state-province">{{"cui-state" | translate}}</label>
                  <select ng-model="app.organization.state" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="state in app.organization.states" value="{{state}}">{{state}}</option>
                  </select>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- city/region -->
                  <label for="city-region">{{"cui-city" | translate}}</label>
                  <select ng-model="app.organization.city" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="city in app.organization.cities" value="{{city}}">{{city}}</option>
                  </select>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- postal code -->
                  <label for="postal-code">{{'cui-postal' | translate}}</label>
                  <input type="text" ng-model="app.organization.postal" class="cui-input "></input>
                </div>
              </div>
              
              <div class="cui-wizard__controls">
                <button class="cui-wizard__next" ng-class="{'cui-wizard__next--error' : invalidForm[1] && organization.$invalid}" ng-click="nextWithErrorChecking(organization,'wizard.signOn')">{{'cui-next' | translate}}</button>
                <button class="cui-wizard__skip" ng-class="{'cui-wizard__skip--show' : invalidForm[1] && organization.$invalid}" ng-click="next('wizard.signOn')">{{'cui-skip-for-now' | translate}} >></button>
              </div>
            </form>
          </step>
          <step title="{{'cui-sign-on-info' | translate}}" state="wizard.signOn">
            <form name="signOn" novalidate>
              <!-- user ID -->
              <label for="userID">{{'cui-user-id' | translate}}</label>
              <input type="text" name="userID" ng-model="app.signOn.userID" class="cui-input " placeholder=""></input>
              <!-- password -->
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half ">
                  <div class="cui-input__password-holder">
                    <label for="password1">{{'cui-password' | translate}}</label>
                    <input type="password" name="password1" ng-model="app.signOn.password1" class="cui-input  cui-input__password" ng-required="true" ng-class="{'cui-input--error': signOn.password1.$touched && signOn.password1.$invalid}" password-validation="{{app.passwordPolicies}}" style="width:100%"></input>
                    <div class="cui-error__password" ng-messages="signOn.password1.$error" ng-messages-multiple ng-if="signOn.password1.$invalid">
                      <div ng-messages-include="assets/angular-templates/password-messages.html"></div>
                    </div>
                  </div>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                <!-- password -->
                  <label for="password">{{'cui-password-re' | translate}}</label>
                  <input type="password" ng-model="app.signOn.password2" class="cui-input " placeholder=""></input>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- question 1 -->
                  <label for="challenge-question-1">{{"cui-challenge-question" | translate}} 1</label>
                  <select ng-model="app.signOn.question1" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="question in app.signOn.questions" value="{{$index}}">{{question | translate}}</option>
                  </select>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <label for="challenge-answer-1">{{'cui-challenge-answer' | translate}} 1</label>
                  <!-- answer 1 -->
                  <input type="text" ng-model="app.signOn.answer1" class="cui-input " placeholder=""></input>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- question 2 -->
                  <label for="challenge-question-2">{{"cui-challenge-question" | translate}} 2</label>
                  <select ng-model="app.signOn.question2" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="question in app.signOn.questions" value="{{$index}}">{{question | translate}}</option>
                  </select>
                </div>
                  <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- answer 2 -->
                  <label for="challenge-answer-2">{{'cui-challenge-answer' | translate}} 2</label>
                  <input type="text" ng-model="app.signOn.answer2" class="cui-input " placeholder=""></input>
                </div>
              </div>
               <div class="cui-wizard__controls">
                <button class="cui-wizard__previous" ng-click="previous('wizard.organization')"><< {{'cui-previous' | translate}}</button>
                <button class="cui-wizard__next" ng-class="{'cui-wizard__next--error' : invalidForm[2] && signOn.$invalid}" ng-click="nextWithErrorChecking(signOn,'wizard.user')">{{'cui-next' | translate}}</button>
                <button class="cui-wizard__skip" ng-class="{'cui-wizard__skip--show' : invalidForm[2] && signOn.$invalid}" ng-click="next('wizard.user')">{{'cui-skip-for-now' | translate}} >></button>
              </div>
            </form>
          </step>
          <step title="{{'cui-user-info' | translate}}" state="wizard.user">
            <form name="user" novalidate>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- first name -->
                  <label for="first-name">{{'cui-first-name' | translate}}</label>
                  <input type="text" ng-model="app.user.fName" class="cui-input " placeholder="" required></input>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- Last name -->
                  <label for="last-name">{{'cui-last-name' | translate}}</label>
                  <input type="text" ng-model="app.user.lName" class="cui-input " placeholder=""></input>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- Email -->
                  <label for="email">{{'cui-email' | translate}}</label>
                  <input type="email" ng-model="app.user.email" class="cui-input " placeholder="" required></input>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- Email 2 -->
                  <label for="email-re">{{'cui-email-re' | translate}}</label>
                  <input type="email" ng-model="app.user.email2" class="cui-input " placeholder=""></input>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- Address 1 -->
                  <label for="address1">{{'cui-user-address' | translate}} 1</label>
                  <input type="text" ng-model="app.user.address1" class="cui-input " placeholder="" required></input>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- Address 2 -->
                  <label for="address2">{{'cui-user-address' | translate}} 2</label>
                  <input type="text" ng-model="app.user.address2" class="cui-input  " placeholder=""></input>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- country -->
                  <label for="user-country">{{"cui-country" | translate}}</label>
                  <select ng-model="app.user.country" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="country in app.organization.countries" value="{{country}}">{{country}}</option>
                  </select>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- state/province -->
                  <label for="">{{'cui-state' | translate}}</label>
                  <select ng-model="app.user.state" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="state in app.organization.states" value="{{state}}">{{state}}</option>
                  </select>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- city/region -->
                  <label for="user-city">{{"cui-city" | translate}}</label>
                  <select ng-model="app.user.city" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="city in app.organization.cities" value="{{city}}">{{city}}</option>
                  </select>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- postal code -->
                  <label for="user-postal">{{'cui-postal' | translate}}</label>
                  <input type="text" ng-model="app.user.postal" class="cui-input " placeholder=""></input>
                </div>
              </div>
              <div class="cui-wizard__field-row">
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- phone -->
                  <label for="number">{{'cui-telephone' | translate}}</label>
                  <input type="number" ng-model="app.user.phone" class="cui-input " placeholder=""></input>
                </div>
                <div class="cui-wizard__field-container cui-wizard__field-container--half">
                  <!-- timezone -->
                  <label for="timezone">{{'cui-timezone' | translate}}</label>
                  <select ng-model="app.user.timezone" class="cui-select ">
                    <option value="" disabled selected></option>
                    <option ng-repeat="timezone in app.user.timezones" value="{{timezone}}">{{timezone}}</option>
                  </select>
                </div>
              </div>
               <div class="cui-wizard__controls">
                <button class="cui-wizard__previous" ng-click="previous('wizard.signOn')"><< {{'cui-previous' | translate}}</button>
                <button class="cui-wizard__next" ng-click="next('wizard.review')">{{'cui-next' | translate}}</button>
              </div>
            </form>
          </step>
          
          <step title="{{'cui-review' | translate}}" state="wizard.review">
            <cui-expandable class="cui-expandable expanded">
              <cui-expandable-title class="cui-expandable__title" ng-click="toggleExpand()">
                {{'cui-org-info' | translate}}
                <span class="chevron">></span>
              </cui-expandable-title>
              <cui-expandable-body class="cui-expandable__body">
                <inline-edit label="cui-org" model="app.organization.name"></inline-edit>
                <cui-review label="cui-company-division" model="app.organization.division"></cui-review>
                <p class="cui-expandable__review-item">{{'cui-org-address' | translate}} 1: {{app.organization.address1}}</p>
                <p class="cui-expandable__review-item" ng-if="app.organization.address2">{{'cui-org-address' | translate}} 2: {{app.organization.address2}}</p>
                <p class="cui-expandable__review-item">{{'cui-country' | translate}}: {{app.organization.country.originalObject.name}}</p>
                <p class="cui-expandable__review-item">{{'cui-state' | translate}}: {{app.organization.state}}</p>
                <p class="cui-expandable__review-item">{{'cui-city' | translate}}: {{app.organization.city}}</p>
                <p class="cui-expandable__review-item">{{'cui-postal' | translate}}: {{app.organization.postal}}</p>
              </cui-expandable-body>
            </cui-expandable>
            <cui-expandable class="cui-expandable">
              <cui-expandable-title class="cui-expandable__title" ng-click="toggleExpand()">
                {{'cui-sign-on-info' | translate}}
                <span class="chevron">></span>
              </cui-expandable-title>
              <cui-expandable-body class="cui-expandable__body">
                <p class="cui-expandable__review-item">{{'cui-user-id' | translate}}: {{app.signOn.userID}}</p>
                <p class="cui-expandable__review-item">{{'cui-password' | translate}}: <input type="password" class="cui-input--display" disabled ng-model="app.signOn.password1"/></p>
                <p class="cui-expandable__review-item">{{'cui-challenge-question' | translate}} 1: {{app.signOn.questions[app.signOn.question1] | translate}}</p>
                <p class="cui-expandable__review-item">{{'cui-challenge-answer' | translate}} 1: {{app.signOn.answer1}}</p>
                <p class="cui-expandable__review-item">{{'cui-challenge-question' | translate}} 2: {{app.signOn.questions[app.signOn.question2] | translate}}</p>
                <p class="cui-expandable__review-item">{{'cui-challenge-answer' | translate}} 2: {{app.signOn.answer2}}</p>
              </cui-expandable-body>
            </cui-expandable>
            <cui-expandable class="cui-expandable">
              <cui-expandable-title class="cui-expandable__title" ng-click="toggleExpand()">
                {{'cui-user-info' | translate}}
                <span class="chevron">></span>
              </cui-expandable-title>
              <cui-expandable-body class="cui-expandable__body">
                <p class="cui-expandable__review-item">{{'cui-first-name' | translate}}: {{app.user.fName}}</p>
                <p class="cui-expandable__review-item">{{'cui-last-name' | translate}}: {{app.user.lName}}</p>
                <p class="cui-expandable__review-item">{{'cui-email' | translate}}: {{app.user.email}}</p>
                <p class="cui-expandable__review-item">{{'cui-user-address' | translate}} 1: {{app.user.address1}}</p>
                <p class="cui-expandable__review-item">{{'cui-user-address' | translate}} 2: {{app.user.address2}}</p>
                <p class="cui-expandable__review-item">{{'cui-country' | translate}}: {{app.user.country}}</p>
                <p class="cui-expandable__review-item">{{'cui-state' | translate}}: {{app.user.state}}</p>
                <p class="cui-expandable__review-item">{{'cui-city' | translate}}: {{app.user.city}}</p>
                <p class="cui-expandable__review-item">{{'cui-postal' | translate}}: {{app.user.postal}}</p>
                <p class="cui-expandable__review-item">{{'cui-telephone' | translate}}: {{app.user.phone}}</p>
                <p class="cui-expandable__review-item">{{'cui-timezone' | translate}}: {{app.user.timezone}}</p>
              </cui-expandable-body>
            </cui-expandable>
            <!-- <cui-expandable >
              <cui-expandable-title ng-click="toggleExpand()">
                {{'cui-preferences' | translate}}
                <span class="chevron">></span>
              </cui-expandable-title>
              <cui-expandable-body>

              </cui-expandable-body>
            </cui-expandable> -->
            <div class="cui-wizard__controls">
              <button class="cui-wizard__previous" ng-click="previous('wizard.user')"><< {{'cui-previous' | translate}}</button>
              <button class="cui-wizard__next" ng-click="">{{'cui-submit' | translate}}</button>
            </div>
          </step>
        </cui-wizard>
      </div>
    </div>
